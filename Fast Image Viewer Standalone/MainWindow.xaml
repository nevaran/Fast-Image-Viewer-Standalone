<Controls:MetroWindow
    x:Class="FIVStandard.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Controls="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
    xmlns:converter="clr-namespace:FIVStandard.Converters"
    xmlns:core="clr-namespace:FIVStandard.Core"
    xmlns:ffme="clr-namespace:Unosquare.FFME;assembly=ffme.win"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
    xmlns:local="clr-namespace:FIVStandard.Localization"
    xmlns:utils="clr-namespace:FIVStandard.Utils"
    xmlns:view="clr-namespace:FIVStandard.View"
    x:Name="MainFIV"
    Title="{Binding TitleInformation, Mode=OneWay, IsAsync=True}"
    Width="800"
    Height="600"
    MinWidth="600"
    MinHeight="480"
    Closing="MainFIV_Closing"
    FontSize="16"
    Icon="Resources/FIVIcon.ico"
    IsTabStop="False"
    Loaded="OnAppLoaded"
    MouseDown="OnMouseDown"
    PreviewKeyDown="OnKeyDown"
    SizeChanged="OnMainFIV_SizeChanged"
    StateChanged="OnMainFIV_StateChanged"
    TitleCharacterCasing="Normal"
    WindowStartupLocation="CenterScreen"
    WindowState="Maximized"
    >
    <!--  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"  -->
    <!--  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"  -->
    <!--  mc:Ignorable="d"  -->

    <Window.Resources>
        <converter:TextToColorConverter x:Key="TextToColorConverter" />
        <converter:KeyToStringConverter x:Key="KeyToStringConverter" />
        <converter:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter" />
        <converter:BoolToVisibilityConverterReverse x:Key="BoolToVisibilityConverterReverse" />
        <converter:BoolFromAccentToGrayConverter x:Key="BoolFromAccentToGrayConverter" />
        <converter:BoolToStretchDirectionConverter x:Key="BoolToStretchDirectionConverter" />
        <converter:TimeSpanTickConverter x:Key="TimeSpanTickConverter" />

        <Style
            x:Key="ListBoxItemStyle"
            BasedOn="{StaticResource MahApps.Styles.ListBoxItem}"
            TargetType="ListBoxItem"
            >

            <Setter Property="Padding" Value="5" />
            <Setter Property="IsTabStop" Value="False" />
            <!--  Fixes spacebar not working and some other bugs if selecting thumbnail list via mouse but disables now the actual selecing  -->
            <Setter Property="Focusable" Value="False" />
            <EventSetter
                Event="PreviewMouseDown"
                Handler="OnListBox_PreviewMouseDown"
                />
            <EventSetter
                Event="Loaded"
                Handler="OnThumbnailItemVisible"
                />
        </Style>
    </Window.Resources>

    <!--  Window Bar Buttons  -->
    <Controls:MetroWindow.RightWindowCommands>
        <Controls:WindowCommands IsTabStop="False">
            <Button
                Click="OnDonateClick"
                Focusable="False"
                IsTabStop="False"
                >
                <StackPanel
                    Orientation="Horizontal"
                    Visibility="{Binding Settings.JSettings.ShowDonateButton, Converter={StaticResource BoolToVisibilityConverter}, Mode=OneWay, IsAsync=True}"
                    >
                    <TextBlock Text="{local:Loc Donate, IsAsync=True}" />
                    <iconPacks:PackIconBoxIcons
                        IsTabStop="False"
                        Kind="LogosPaypal"
                        />
                </StackPanel>
            </Button>
            <Button
                Click="OnCheckUpdateClick"
                Focusable="False"
                IsEnabled="{Binding AppUpdater.NotUpdating, Mode=OneWay}"
                IsTabStop="False"
                >
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="{local:Loc CheckForUpdates, IsAsync=True}" />
                    <iconPacks:PackIconUnicons
                        IsTabStop="False"
                        Kind="SyncLine"
                        />
                </StackPanel>
            </Button>
        </Controls:WindowCommands>
    </Controls:MetroWindow.RightWindowCommands>

    <Grid>
        <!--  Toggled Options Indicator Icons  -->
        <StackPanel
            Height="25"
            HorizontalAlignment="Right"
            VerticalAlignment="Top"
            Orientation="Horizontal"
            >

            <iconPacks:PackIconBoxIcons
                Width="15"
                Height="15"
                Margin="0,0,5,0"
                VerticalAlignment="Center"
                Background="Transparent"
                Foreground="{DynamicResource MahApps.Brushes.Accent}"
                IsTabStop="False"
                Kind="SolidMoon"
                ToolTip="{local:Loc DarkModeOnTooltip,
                                    IsAsync=True}"
                Visibility="{Binding Settings.JSettings.DarkModeToggle, Converter={StaticResource BoolToVisibilityConverter}, Mode=OneWay, IsAsync=True}"
                />
            <iconPacks:PackIconBoxIcons
                Width="15"
                Height="15"
                Margin="0,0,5,0"
                VerticalAlignment="Center"
                Background="Transparent"
                Foreground="{DynamicResource MahApps.Brushes.Accent}"
                IsTabStop="False"
                Kind="RegularExpand"
                ToolTip="{local:Loc StretchOnTooltip,
                                    IsAsync=True}"
                Visibility="{Binding Settings.JSettings.StretchImageToggle, Converter={StaticResource BoolToVisibilityConverter}, Mode=OneWay, IsAsync=True}"
                />
            <iconPacks:PackIconUnicons
                Width="15"
                Height="15"
                Margin="0,0,5,0"
                VerticalAlignment="Center"
                Background="Transparent"
                Foreground="{DynamicResource MahApps.Brushes.Accent}"
                IsTabStop="False"
                Kind="ImageResizeSquareLine"
                ToolTip="{local:Loc DownsizeOnTooltip,
                                    IsAsync=True}"
                Visibility="{Binding Settings.JSettings.DownsizeImageToggle, Converter={StaticResource BoolToVisibilityConverter}, Mode=OneWay, IsAsync=True}"
                />
            <iconPacks:PackIconBoxIcons
                Width="15"
                Height="15"
                Margin="0,0,5,0"
                VerticalAlignment="Center"
                Background="Transparent"
                Foreground="{DynamicResource MahApps.Brushes.Accent}"
                IsTabStop="False"
                Kind="RegularListUl"
                ToolTip="{local:Loc ThumbnailListOnTooltip,
                                    IsAsync=True}"
                Visibility="{Binding Settings.JSettings.EnableThumbnailListToggle, Converter={StaticResource BoolToVisibilityConverter}, Mode=OneWay, IsAsync=True}"
                />
        </StackPanel>

        <Controls:MetroTabControl
            Focusable="False"
            IsEnabled="{Binding Settings.JSettings.ShortcutButtonsOn, Mode=OneWay}"
            IsTabStop="False"
            SelectionChanged="OnMetroTabControl_SelectionChanged"
            >
            <!--  KeepVisualTreeInMemoryWhenChangingTabs="True"  -->

            <!--  General Tab  -->
            <Controls:MetroTabItem
                Controls:HeaderedControlHelper.HeaderFontSize="16"
                Header="{local:Loc General,
                                   IsAsync=True}"
                >

                <Grid>
                    <!--  Context Menu | Window  -->
                    <Grid.ContextMenu>
                        <ContextMenu>
                            <MenuItem
                                Click="OnOpenFileLocation"
                                Focusable="False"
                                Header="{local:Loc OpenFileLocation,
                                                   IsAsync=True}"
                                />
                            <MenuItem
                                Click="OnCopyToClipboard"
                                Focusable="False"
                                Header="{local:Loc CopyImageToClipboard,
                                                   IsAsync=True}"
                                />
                            <MenuItem
                                Click="OnCutToClipboard"
                                Focusable="False"
                                Header="{local:Loc CutFileToClipboard,
                                                   IsAsync=True}"
                                />
                            <Separator />
                            <MenuItem
                                Click="OnDeleteClick"
                                Focusable="False"
                                Header="{local:Loc Delete,
                                                   IsAsync=True}"
                                />
                        </ContextMenu>
                    </Grid.ContextMenu>

                    <Separator VerticalAlignment="Top" />

                    <!--  Image Information  -->
                    <Border
                        Width="200"
                        Height="40"
                        Margin="12,2,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top"
                        >
                        <TextBlock
                            VerticalAlignment="Center"
                            FontSize="14"
                            Text="{Binding ImageInfo.ImgInfoStringFormat, Mode=OneWay, IsAsync=True}"
                            TextWrapping="Wrap"
                            />
                    </Border>

                    <!--  Previous Button  -->
                    <Button
                        x:Name="Btn_Prev"
                        Width="50"
                        Height="25"
                        Margin="0,10,90,0"
                        Padding="0"
                        VerticalAlignment="Top"
                        Click="OnClick_Prev"
                        Focusable="False"
                        IsTabStop="False"
                        >
                        <iconPacks:PackIconBoxIcons
                            Width="15"
                            Height="15"
                            Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}"
                            IsTabStop="False"
                            Kind="SolidLeftArrow"
                            />
                    </Button>

                    <!--  Pause Button  -->
                    <Button
                        x:Name="Btn_Pause"
                        Width="35"
                        Height="35"
                        Margin="0,5,0,0"
                        Padding="0"
                        VerticalAlignment="Top"
                        Click="OnClick_Pause"
                        Focusable="False"
                        IsTabStop="False"
                        Visibility="Collapsed"
                        >
                        <iconPacks:PackIconBoxIcons
                            Width="20"
                            Height="20"
                            Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}"
                            IsTabStop="False"
                            Kind="RegularPauseCircle"
                            />
                    </Button>

                    <!--  Next Button  -->
                    <Button
                        x:Name="Btn_Next"
                        Width="50"
                        Height="25"
                        Margin="90,10,0,0"
                        Padding="0"
                        VerticalAlignment="Top"
                        Click="OnClick_Next"
                        Focusable="False"
                        IsTabStop="False"
                        >
                        <iconPacks:PackIconBoxIcons
                            Width="15"
                            Height="15"
                            Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}"
                            IsTabStop="False"
                            Kind="SolidRightArrow"
                            />
                    </Button>

                    <!--  Open File Dialog Button  -->
                    <Button
                        Width="75"
                        Height="25"
                        Margin="0,10,10,0"
                        Padding="0"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Top"
                        Click="OnOpenBrowseImage"
                        Focusable="False"
                        FontSize="12"
                        IsTabStop="False"
                        ScrollViewer.VerticalScrollBarVisibility="Disabled"
                        ToolTip="{local:Loc Open,
                                            IsAsync=True}"
                        >
                        <iconPacks:PackIconUnicons
                            Width="20"
                            Height="20"
                            Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}"
                            IsTabStop="False"
                            Kind="FolderOpenLine"
                            ScrollViewer.VerticalScrollBarVisibility="Disabled"
                            />
                    </Button>

                    <!--  Main Window Controls  -->
                    <Grid
                        AllowDrop="True"
                        Drop="OnMedia_Drop"
                        MouseMove="MediaImageView_MouseMove"
                        >

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <!--  Thumbnail List Control  -->
                        <ListBox
                            x:Name="thumbnailList"
                            Margin="0,44,0,0"
                            Focusable="False"
                            IsSynchronizedWithCurrentItem="True"
                            IsTabStop="False"
                            IsTextSearchEnabled="False"
                            ItemContainerStyle="{StaticResource ListBoxItemStyle}"
                            ItemsSource="{Binding ImagesDataView, Mode=OneWay}"
                            ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                            ScrollViewer.PanningMode="VerticalOnly"
                            SelectedItem="{Binding ImageItem, Mode=TwoWay}"
                            SelectionChanged="OnThumbnailList_SelectionChanged"
                            VirtualizingStackPanel.IsVirtualizing="True"
                            Visibility="{Binding Settings.JSettings.EnableThumbnailListToggle, Converter={StaticResource BoolToVisibilityConverter}, Mode=OneWay}"
                            >

                            <ListBox.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <VirtualizingStackPanel
                                        VerticalAlignment="Top"
                                        IsItemsHost="True"
                                        />
                                </ItemsPanelTemplate>
                            </ListBox.ItemsPanel>
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <Border
                                        BorderBrush="{DynamicResource MahApps.Brushes.ThemeForeground}"
                                        BorderThickness="1"
                                        >
                                        <StackPanel
                                            Width="{Binding Settings.ThumbnailSize, Mode=OneWay}"
                                            Height="{Binding Settings.ThumbnailSizePlusText, Mode=OneWay}"
                                            ToolTip="{Binding ThumbnailName, Mode=OneWay, IsAsync=True}"
                                            >

                                            <TextBlock
                                                Width="{Binding Settings.ThumbnailSize, Mode=OneWay}"
                                                FontSize="10"
                                                Text="{Binding ThumbnailName, Mode=OneWay, IsAsync=True}"
                                                TextAlignment="Center"
                                                TextOptions.TextRenderingMode="Grayscale"
                                                TextTrimming="CharacterEllipsis"
                                                />
                                            <Image
                                                Width="{Binding Settings.ThumbnailSize, Mode=OneWay}"
                                                Height="{Binding Settings.ThumbnailSize, Mode=OneWay}"
                                                RenderOptions.BitmapScalingMode="LowQuality"
                                                Source="{Binding ThumbnailImage, Mode=OneWay, IsAsync=True}"
                                                />

                                            <iconPacks:PackIconBoxIcons
                                                Width="{Binding Settings.ThumbnailSizeGifTag, Mode=OneWay}"
                                                Height="{Binding Settings.ThumbnailSizeGifTag, Mode=OneWay}"
                                                Margin="0,-70,0,0"
                                                Padding="5"
                                                HorizontalAlignment="Right"
                                                VerticalAlignment="Bottom"
                                                Foreground="{DynamicResource MahApps.Brushes.Accent}"
                                                IsTabStop="False"
                                                Kind="SolidVideo"
                                                Visibility="{Binding IsAnimated, Converter={StaticResource BoolToVisibilityConverter}, Mode=OneWay}"
                                                />
                                        </StackPanel>
                                    </Border>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>

                        <!--  Media Controls Grid  -->
                        <Grid
                            Grid.Column="1"
                            Margin="10,0,0,2"
                            >

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <!--  Media Time Elapsed Control  -->
                            <TextBlock
                                x:Name="MediaTime"
                                Grid.Column="0"
                                Height="25"
                                Margin="10,0,10,0"
                                VerticalAlignment="Bottom"
                                FontSize="14"
                                Text="{Binding MediaTimeElapsedFormat, Mode=OneWay}"
                                TextAlignment="Center"
                                Visibility="Collapsed"
                                />

                            <!--  Media Progress Slider Control  -->
                            <Slider
                                x:Name="MediaProgression"
                                Grid.Column="1"
                                Margin="0,0,10,0"
                                VerticalAlignment="Bottom"
                                Focusable="False"
                                IsMoveToPointEnabled="True"
                                IsTabStop="False"
                                ValueChanged="OnMediaProgression_ValueChanged"
                                Visibility="Hidden"
                                Value="{Binding Path=Position, ElementName=MediaView, Converter={StaticResource TimeSpanTickConverter}, Mode=TwoWay}"
                                >
                                <i:Interaction.Behaviors>
                                    <core:FreeSlideBehavior />
                                </i:Interaction.Behaviors>
                            </Slider>

                            <!--  Media Mute Button Control  -->
                            <Button
                                x:Name="VolumeProgressionIcon"
                                Grid.Column="2"
                                Width="25"
                                Height="25"
                                Padding="0"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Bottom"
                                Background="{x:Null}"
                                BorderBrush="{x:Null}"
                                BorderThickness="0"
                                Click="OnMediaVolumeIcon_Click"
                                Focusable="False"
                                Foreground="{x:Null}"
                                IsTabStop="False"
                                Visibility="Hidden"
                                >
                                <iconPacks:PackIconBoxIcons
                                    x:Name="VolumeIcon"
                                    Foreground="{DynamicResource MahApps.Brushes.Accent}"
                                    IsTabStop="False"
                                    Kind="{Binding Settings.JSettings.VolumeIcon, Mode=OneWay}"
                                    />
                            </Button>

                            <!--  Media Volume Slider Control  -->
                            <Slider
                                x:Name="VolumeProgression"
                                Grid.Column="3"
                                Width="100"
                                Height="25"
                                Margin="0,0,10,0"
                                VerticalAlignment="Bottom"
                                AutoToolTipPlacement="TopLeft"
                                AutoToolTipPrecision="2"
                                Focusable="False"
                                IsMoveToPointEnabled="True"
                                IsTabStop="False"
                                Maximum="1"
                                Minimum="0"
                                SmallChange="0.01"
                                Visibility="Collapsed"
                                Value="{Binding Settings.JSettings.MediaVolume, Mode=TwoWay}"
                                >
                                <i:Interaction.Behaviors>
                                    <core:FreeSlideBehavior />
                                </i:Interaction.Behaviors>
                            </Slider>
                        </Grid>

                        <!--  MediaElement Control  -->
                        <utils:ZoomBorder
                            x:Name="borderMed"
                            Grid.Column="1"
                            Margin="0,44,0,29"
                            Background="Transparent"
                            ClampLimitMultiplier="1"
                            ClipToBounds="True"
                            ZoomSensitivity="{Binding Settings.JSettings.ZoomSensitivity, Mode=OneWay}"
                            >
                            <ffme:MediaElement
                                x:Name="MediaView"
                                IsMuted="{Binding Settings.JSettings.MediaMuted, Mode=TwoWay}"
                                LoadedBehavior="Play"
                                LoopingBehavior="Play"
                                MediaOpened="OnMediaView_MediaOpened"
                                ScrubbingEnabled="True"
                                SpeedRatio="1"
                                StretchDirection="{Binding Settings.JSettings.StretchImageToggle, Converter={StaticResource BoolToStretchDirectionConverter}, Mode=OneWay}"
                                Volume="{Binding Settings.JSettings.MediaVolume, Mode=TwoWay}"
                                />
                        </utils:ZoomBorder>

                        <!--  Image Control  -->
                        <utils:ZoomBorder
                            x:Name="borderImg"
                            Grid.Column="1"
                            Margin="0,44,0,0"
                            Background="Transparent"
                            ClampLimitMultiplier="1"
                            ClipToBounds="True"
                            ZoomSensitivity="{Binding Settings.JSettings.ZoomSensitivity, Mode=OneWay}"
                            >
                            <Image
                                Name="PictureView"
                                RenderOptions.BitmapScalingMode="HighQuality"
                                Source="{Binding ImageSource, Mode=OneWay, IsAsync=True}"
                                StretchDirection="{Binding Settings.JSettings.StretchImageToggle, Converter={StaticResource BoolToStretchDirectionConverter}, Mode=OneWay, IsAsync=True}"
                                />
                        </utils:ZoomBorder>

                        <!--  Loading Spinner  -->
                        <view:LoadingSpinner
                            Grid.Column="1"
                            IsHitTestVisible="False"
                            IsTabStop="False"
                            Visibility="{Binding IsLoading, Converter={StaticResource BoolToVisibilityConverter}, Mode=OneWay}"
                            />
                    </Grid>
                </Grid>
            </Controls:MetroTabItem>

            <!--  Settings Tab  -->
            <Controls:MetroTabItem
                Controls:HeaderedControlHelper.HeaderFontSize="16"
                Header="{local:Loc Settings,
                                   IsAsync=True}"
                >

                <ScrollViewer
                    Focusable="False"
                    VerticalScrollBarVisibility="Auto"
                    >
                    <StackPanel
                        Margin="0,0,0,10"
                        HorizontalAlignment="Left"
                        >
                        <Separator />

                        <!--  Reset Settings Button  -->
                        <Button
                            MinWidth="100"
                            Margin="20,10,10,0"
                            HorizontalAlignment="Left"
                            Click="OnResetSettingsClick"
                            Content="{local:Loc ResetSettingsButton,
                                                IsAsync=True}"
                            FontSize="14"
                            />

                        <!--  Window Settings  -->
                        <GroupBox
                            MinWidth="250"
                            Margin="20,10,0,0"
                            Padding="10"
                            HorizontalAlignment="Left"
                            >
                            <GroupBox.Header>
                                <StackPanel Orientation="Horizontal">
                                    <iconPacks:PackIconUnicons
                                        Margin="0,0,5,0"
                                        VerticalAlignment="Center"
                                        IsTabStop="False"
                                        Kind="WindowGridLine"
                                        />
                                    <TextBlock
                                        FontSize="16"
                                        Text="{local:Loc ProgramSettings,
                                                         IsAsync=True}"
                                        />
                                </StackPanel>
                            </GroupBox.Header>

                            <StackPanel>
                                <!--  Language Dropdown  -->
                                <DockPanel>
                                    <TextBlock
                                        VerticalAlignment="Top"
                                        DockPanel.Dock="Top"
                                        FontWeight="DemiBold"
                                        Text="{local:Loc Language,
                                                         IsAsync=True}"
                                        TextAlignment="Left"
                                        ToolTip="{local:Loc ShownLanguageInfo,
                                                            IsAsync=True}"
                                        />
                                    <Controls:SplitButton
                                        x:Name="ShownLanguageDrop"
                                        Height="60"
                                        Margin="0,5,0,0"
                                        VerticalAlignment="Top"
                                        Click="OnLanguageClick"
                                        DockPanel.Dock="Bottom"
                                        ItemsSource="{Binding Settings.JSettings.GetLanguageString, Mode=OneTime}"
                                        Orientation="Vertical"
                                        SelectedIndex="{Binding Settings.JSettings.ShownLanguageDropIndex, Mode=TwoWay}"
                                        >
                                        <Controls:SplitButton.ItemContainerStyle>
                                            <Style TargetType="ListBoxItem">
                                                <Setter Property="FocusVisualStyle" Value="{x:Null}" />
                                            </Style>
                                        </Controls:SplitButton.ItemContainerStyle>
                                    </Controls:SplitButton>
                                </DockPanel>

                                <!--  Dark Mode Toggle  -->
                                <DockPanel Margin="0,10,0,0">
                                    <Controls:ToggleSwitch
                                        VerticalAlignment="Center"
                                        ContentDirection="RightToLeft"
                                        DockPanel.Dock="Left"
                                        Header="{local:Loc DarkMode,
                                                           IsAsync=True}"
                                        IsOn="{Binding Settings.JSettings.DarkModeToggle, Mode=TwoWay}"
                                        OffContent="{local:Loc Off,
                                                               IsAsync=True}"
                                        OnContent="{local:Loc On,
                                                              IsAsync=True}"
                                        ToolTip="{local:Loc DarkModeInfo,
                                                            IsAsync=True}"
                                        />
                                </DockPanel>

                                <!--  Theme Accent Dropdown  -->
                                <DockPanel Margin="0,10,0,0">
                                    <TextBlock
                                        VerticalAlignment="Top"
                                        DockPanel.Dock="Top"
                                        FontWeight="DemiBold"
                                        ScrollViewer.VerticalScrollBarVisibility="Disabled"
                                        Text="{local:Loc ThemeAccent,
                                                         IsAsync=True}"
                                        TextAlignment="Left"
                                        ToolTip="{local:Loc ThemeAccentInfo,
                                                            IsAsync=True}"
                                        />
                                    <Controls:SplitButton
                                        x:Name="ThemeAccentDrop"
                                        Height="60"
                                        Margin="0,5,0,0"
                                        VerticalAlignment="Center"
                                        Click="OnAccentClick"
                                        DockPanel.Dock="Bottom"
                                        ItemsSource="{Binding Settings.JSettings.ThemeAccents, Mode=OneWay}"
                                        Orientation="Vertical"
                                        SelectedIndex="{Binding Settings.JSettings.ThemeAccentDropIndex, Mode=TwoWay}"
                                        >
                                        <Controls:SplitButton.ItemContainerStyle>
                                            <Style TargetType="ListBoxItem">
                                                <Setter Property="BorderBrush" Value="{Binding Converter={StaticResource TextToColorConverter}}" />
                                                <Setter Property="BorderThickness" Value="20,0,0,0" />
                                                <Setter Property="FocusVisualStyle" Value="{x:Null}" />
                                            </Style>
                                        </Controls:SplitButton.ItemContainerStyle>
                                    </Controls:SplitButton>
                                </DockPanel>

                                <!--  Show Donate Button Toggle  -->
                                <DockPanel Margin="0,10,0,0">
                                    <Controls:ToggleSwitch
                                        VerticalAlignment="Center"
                                        ContentDirection="RightToLeft"
                                        DockPanel.Dock="Left"
                                        Header="{local:Loc ShowDonateButton,
                                                           IsAsync=True}"
                                        IsOn="{Binding Settings.JSettings.ShowDonateButton, Mode=TwoWay}"
                                        OffContent="{local:Loc Off,
                                                               IsAsync=True}"
                                        OnContent="{local:Loc On,
                                                              IsAsync=True}"
                                        ScrollViewer.VerticalScrollBarVisibility="Disabled"
                                        ToolTip="{local:Loc ShowDonateButtonInfo,
                                                            IsAsync=True}"
                                        />
                                </DockPanel>
                            </StackPanel>
                        </GroupBox>

                        <!--  General Settings  -->
                        <GroupBox
                            MinWidth="250"
                            Margin="20,10,0,0"
                            Padding="10"
                            HorizontalAlignment="Left"
                            >
                            <GroupBox.Header>
                                <StackPanel Orientation="Horizontal">
                                    <iconPacks:PackIconUnicons
                                        Margin="0,0,5,0"
                                        VerticalAlignment="Center"
                                        IsTabStop="False"
                                        Kind="ImageLine"
                                        />
                                    <TextBlock
                                        FontSize="16"
                                        Text="{local:Loc GeneralSettings,
                                                         IsAsync=True}"
                                        />
                                </StackPanel>
                            </GroupBox.Header>

                            <StackPanel>
                                <!--  Stretch Image Toggle  -->
                                <DockPanel>
                                    <Controls:ToggleSwitch
                                        VerticalAlignment="Center"
                                        ContentDirection="RightToLeft"
                                        DockPanel.Dock="Left"
                                        Header="{local:Loc StretchImage,
                                                           IsAsync=True}"
                                        IsOn="{Binding Settings.JSettings.StretchImageToggle, Mode=TwoWay}"
                                        OffContent="{local:Loc Off,
                                                               IsAsync=True}"
                                        OnContent="{local:Loc On,
                                                              IsAsync=True}"
                                        ScrollViewer.VerticalScrollBarVisibility="Auto"
                                        ToolTip="{local:Loc StretchImageInfo,
                                                            IsAsync=True}"
                                        />
                                </DockPanel>

                                <!--  Downsize Image  -->
                                <DockPanel Margin="0,10,0,0">
                                    <Controls:ToggleSwitch
                                        VerticalAlignment="Center"
                                        ContentDirection="RightToLeft"
                                        DockPanel.Dock="Left"
                                        Header="{local:Loc DownsizeImage,
                                                           IsAsync=True}"
                                        IsOn="{Binding Settings.JSettings.DownsizeImageToggle, Mode=TwoWay}"
                                        OffContent="{local:Loc Off,
                                                               IsAsync=True}"
                                        OnContent="{local:Loc On,
                                                              IsAsync=True}"
                                        ToolTip="{local:Loc DownsizeImageInfo,
                                                            IsAsync=True}"
                                        />
                                </DockPanel>

                                <!--  Zoom Sensitivity  -->
                                <DockPanel Margin="0,10,0,0">
                                    <TextBlock
                                        VerticalAlignment="Center"
                                        DockPanel.Dock="Top"
                                        FontWeight="DemiBold"
                                        Text="{local:Loc ZoomSensitivity,
                                                         IsAsync=True}"
                                        TextAlignment="Left"
                                        ToolTip="{local:Loc ZoomSensitivityInfo,
                                                            IsAsync=True}"
                                        />
                                    <TextBlock
                                        Margin="0,-5,0,0"
                                        VerticalAlignment="Center"
                                        DockPanel.Dock="Bottom"
                                        FontWeight="DemiBold"
                                        Text="{Binding Settings.JSettings.ZoomSensitivityString, Mode=OneWay}"
                                        TextAlignment="Center"
                                        />
                                    <Slider
                                        Margin="0,0,0,0"
                                        VerticalAlignment="Top"
                                        DockPanel.Dock="Bottom"
                                        IsSnapToTickEnabled="True"
                                        LargeChange="0.05"
                                        Maximum="2"
                                        Minimum="0.1"
                                        TickFrequency="0.05"
                                        Value="{Binding Settings.JSettings.ZoomSensitivity, Mode=TwoWay}"
                                        />
                                </DockPanel>

                                <!--  Enable Thumbnail List Toggle  -->
                                <DockPanel Margin="0,10,0,0">
                                    <Border
                                        Width="42"
                                        Height="2"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Bottom"
                                        Background="{Binding Settings.JSettings.EnableThumbnailListToggle, Converter={StaticResource BoolFromAccentToGrayConverter}, Mode=OneWay, IsAsync=True}"
                                        DockPanel.Dock="Bottom"
                                        />
                                    <Controls:ToggleSwitch
                                        VerticalAlignment="Center"
                                        ContentDirection="RightToLeft"
                                        DockPanel.Dock="Left"
                                        Header="{local:Loc EnableThumbnailList,
                                                           IsAsync=True}"
                                        IsOn="{Binding Settings.JSettings.EnableThumbnailListToggle, Mode=TwoWay}"
                                        OffContent="{local:Loc Off,
                                                               IsAsync=True}"
                                        OnContent="{local:Loc On,
                                                              IsAsync=True}"
                                        ToolTip="{local:Loc EnableThumbnailListInfo,
                                                            IsAsync=True}"
                                        />
                                </DockPanel>

                                <!--  Thumbnail Size  -->
                                <DockPanel>
                                    <Border
                                        Width="2"
                                        Margin="40,0,0,0"
                                        HorizontalAlignment="Left"
                                        Background="{Binding Settings.JSettings.EnableThumbnailListToggle, Converter={StaticResource BoolFromAccentToGrayConverter}, Mode=OneWay, IsAsync=True}"
                                        DockPanel.Dock="Left"
                                        />
                                    <TextBlock
                                        Margin="10,0,0,0"
                                        VerticalAlignment="Center"
                                        DockPanel.Dock="Top"
                                        FontWeight="DemiBold"
                                        Text="{local:Loc ThumbnailSize,
                                                         IsAsync=True}"
                                        TextAlignment="Left"
                                        ToolTip="{local:Loc ThumbnailSizeInfo,
                                                            IsAsync=True}"
                                        />
                                    <TextBlock
                                        Margin="10,-5,0,10"
                                        VerticalAlignment="Center"
                                        DockPanel.Dock="Bottom"
                                        FontWeight="DemiBold"
                                        Text="{Binding Settings.JSettings.ThumbnailSize, Mode=OneWay}"
                                        TextAlignment="Center"
                                        />
                                    <Slider
                                        Margin="10,0,0,0"
                                        VerticalAlignment="Top"
                                        DockPanel.Dock="Bottom"
                                        IsEnabled="{Binding Settings.JSettings.EnableThumbnailListToggle}"
                                        IsSnapToTickEnabled="True"
                                        LargeChange="5"
                                        Maximum="240"
                                        Minimum="40"
                                        SmallChange="5"
                                        TickFrequency="5"
                                        Value="{Binding Settings.JSettings.ThumbnailSize, Mode=TwoWay}"
                                        />
                                </DockPanel>

                                <!--  Thumbnail Resolution  -->
                                <DockPanel>
                                    <Border
                                        Width="2"
                                        Margin="40,0,0,0"
                                        HorizontalAlignment="Left"
                                        Background="{Binding Settings.JSettings.EnableThumbnailListToggle, Converter={StaticResource BoolFromAccentToGrayConverter}, Mode=OneWay, IsAsync=True}"
                                        DockPanel.Dock="Left"
                                        />
                                    <TextBlock
                                        Margin="10,0,0,0"
                                        VerticalAlignment="Center"
                                        DockPanel.Dock="Top"
                                        FontWeight="DemiBold"
                                        Text="{local:Loc ThumbnailRes,
                                                         IsAsync=True}"
                                        TextAlignment="Left"
                                        ToolTip="{local:Loc ThumbnailResInfo,
                                                            IsAsync=True}"
                                        />
                                    <TextBlock
                                        Margin="10,-5,0,0"
                                        VerticalAlignment="Center"
                                        DockPanel.Dock="Bottom"
                                        FontWeight="DemiBold"
                                        Text="{Binding Settings.JSettings.ThumbnailRes, Mode=OneWay}"
                                        TextAlignment="Center"
                                        />
                                    <Slider
                                        Margin="10,0,0,0"
                                        VerticalAlignment="Top"
                                        DockPanel.Dock="Bottom"
                                        IsEnabled="{Binding Settings.JSettings.EnableThumbnailListToggle, Mode=OneWay}"
                                        IsSnapToTickEnabled="True"
                                        LargeChange="5"
                                        Maximum="240"
                                        Minimum="40"
                                        SmallChange="5"
                                        Thumb.DragCompleted="OnThumbnailSlider_DragCompleted"
                                        Thumb.DragStarted="OnThumbnailSlider_DragStarted"
                                        TickFrequency="5"
                                        Value="{Binding Settings.JSettings.ThumbnailRes, Mode=TwoWay}"
                                        />
                                </DockPanel>
                            </StackPanel>
                        </GroupBox>

                        <!--  Updates  -->
                        <GroupBox
                            MinWidth="250"
                            Margin="20,10,0,0"
                            Padding="10"
                            HorizontalAlignment="Left"
                            >
                            <GroupBox.Header>
                                <StackPanel Orientation="Horizontal">
                                    <iconPacks:PackIconUnicons
                                        Margin="0,0,5,0"
                                        VerticalAlignment="Center"
                                        IsTabStop="False"
                                        Kind="DownloadAltLine"
                                        />
                                    <TextBlock
                                        FontSize="16"
                                        Text="{local:Loc Updates,
                                                         IsAsync=True}"
                                        />
                                </StackPanel>
                            </GroupBox.Header>

                            <StackPanel>
                                <!--  Check for Updates at Startup  -->
                                <DockPanel>
                                    <Border
                                        Width="42"
                                        Height="2"
                                        Margin="0,0,0,0"
                                        HorizontalAlignment="Left"
                                        Background="{Binding Settings.JSettings.CheckForUpdatesStartToggle, Converter={StaticResource BoolFromAccentToGrayConverter}, Mode=OneWay, IsAsync=True}"
                                        DockPanel.Dock="Bottom"
                                        />
                                    <Controls:ToggleSwitch
                                        Padding="0,0,0,0"
                                        VerticalAlignment="Center"
                                        ContentDirection="RightToLeft"
                                        DockPanel.Dock="Left"
                                        Header="{local:Loc CheckForUpdates,
                                                           IsAsync=True}"
                                        IsOn="{Binding Settings.JSettings.CheckForUpdatesStartToggle, Mode=TwoWay}"
                                        OffContent="{local:Loc Off,
                                                               IsAsync=True}"
                                        OnContent="{local:Loc On,
                                                              IsAsync=True}"
                                        ToolTip="{local:Loc CheckForUpdatesStartToggleInfo,
                                                            IsAsync=True}"
                                        />
                                </DockPanel>

                                <!--  Autoupdate on Update Check  -->
                                <DockPanel>
                                    <Border
                                        Width="2"
                                        Margin="40,0,0,0"
                                        HorizontalAlignment="Left"
                                        Background="{Binding Settings.JSettings.CheckForUpdatesStartToggle, Converter={StaticResource BoolFromAccentToGrayConverter}, Mode=OneWay, IsAsync=True}"
                                        DockPanel.Dock="Left"
                                        />
                                    <Controls:ToggleSwitch
                                        Padding="10,0,0,0"
                                        VerticalAlignment="Center"
                                        ContentDirection="RightToLeft"
                                        DockPanel.Dock="Left"
                                        Header="{local:Loc AutoupdateToggle,
                                                           IsAsync=True}"
                                        IsEnabled="{Binding Settings.JSettings.CheckForUpdatesStartToggle}"
                                        IsOn="{Binding Settings.JSettings.AutoupdateToggle, Mode=TwoWay}"
                                        OffContent="{local:Loc Off,
                                                               IsAsync=True}"
                                        OnContent="{local:Loc On,
                                                              IsAsync=True}"
                                        ToolTip="{local:Loc AutoupdateToggleInfo,
                                                            IsAsync=True}"
                                        />
                                </DockPanel>
                            </StackPanel>
                        </GroupBox>

                        <!--  File Type Checkbox  -->
                        <GroupBox
                            MinWidth="125"
                            Margin="20,10,0,0"
                            Padding="10"
                            HorizontalAlignment="Left"
                            >
                            <GroupBox.Header>
                                <StackPanel Orientation="Horizontal">
                                    <iconPacks:PackIconUnicons
                                        Margin="0,0,5,0"
                                        VerticalAlignment="Center"
                                        IsTabStop="False"
                                        Kind="FileExclamationLine"
                                        />
                                    <TextBlock
                                        FontSize="16"
                                        Text="{local:Loc FileType,
                                                         IsAsync=True}"
                                        ToolTip="{local:Loc FileTypeInfo,
                                                            IsAsync=True}"
                                        />
                                </StackPanel>
                            </GroupBox.Header>

                            <StackPanel>
                                <CheckBox
                                    Height="25"
                                    Click="OnAllTypeCheckBox_Changed"
                                    Content="{local:Loc All,
                                                        IsAsync=True}"
                                    IsChecked="{Binding Settings.JSettings.FilterAll, Mode=TwoWay}"
                                    />

                                <StackPanel
                                    Margin="25,0,0,0"
                                    Orientation="Horizontal"
                                    >
                                    <CheckBox
                                        Width="60"
                                        Height="25"
                                        Content=".jpg"
                                        IsChecked="{Binding Settings.JSettings.FilterJpg, Mode=TwoWay}"
                                        />
                                    <Button
                                        Width="20"
                                        Height="20"
                                        MinHeight="0"
                                        Padding="0"
                                        Click="OnAssociateFileButton_Click"
                                        Loaded="OnAssociateFileButtonShown"
                                        Tag=".jpg"
                                        ToolTip="{local:Loc AssociateTypeTooltip,
                                                            IsAsync=True}"
                                        >
                                        <iconPacks:PackIconUnicons
                                            IsTabStop="False"
                                            Kind="FileExclamationLine"
                                            />
                                    </Button>
                                </StackPanel>

                                <StackPanel
                                    Margin="25,0,0,0"
                                    Orientation="Horizontal"
                                    >
                                    <CheckBox
                                        Width="60"
                                        Height="25"
                                        HorizontalAlignment="Left"
                                        Content=".jpeg"
                                        IsChecked="{Binding Settings.JSettings.FilterJpeg, Mode=TwoWay}"
                                        />
                                    <Button
                                        Width="20"
                                        Height="20"
                                        MinHeight="0"
                                        Padding="0"
                                        Click="OnAssociateFileButton_Click"
                                        Loaded="OnAssociateFileButtonShown"
                                        Tag=".jpeg"
                                        ToolTip="{local:Loc AssociateTypeTooltip,
                                                            IsAsync=True}"
                                        >
                                        <iconPacks:PackIconUnicons
                                            IsTabStop="False"
                                            Kind="FileExclamationLine"
                                            />
                                    </Button>
                                </StackPanel>

                                <StackPanel
                                    Margin="25,0,0,0"
                                    Orientation="Horizontal"
                                    >
                                    <CheckBox
                                        Width="60"
                                        Height="25"
                                        HorizontalAlignment="Left"
                                        Content=".png"
                                        IsChecked="{Binding Settings.JSettings.FilterPng, Mode=TwoWay}"
                                        />
                                    <Button
                                        Width="20"
                                        Height="20"
                                        MinHeight="0"
                                        Padding="0"
                                        Click="OnAssociateFileButton_Click"
                                        Loaded="OnAssociateFileButtonShown"
                                        Tag=".png"
                                        ToolTip="{local:Loc AssociateTypeTooltip,
                                                            IsAsync=True}"
                                        >
                                        <iconPacks:PackIconUnicons
                                            IsTabStop="False"
                                            Kind="FileExclamationLine"
                                            />
                                    </Button>
                                </StackPanel>

                                <StackPanel
                                    Margin="25,0,0,0"
                                    Orientation="Horizontal"
                                    >
                                    <CheckBox
                                        Width="60"
                                        Height="25"
                                        HorizontalAlignment="Left"
                                        Content=".gif"
                                        IsChecked="{Binding Settings.JSettings.FilterGif, Mode=TwoWay}"
                                        />
                                    <Button
                                        Width="20"
                                        Height="20"
                                        MinHeight="0"
                                        Padding="0"
                                        Click="OnAssociateFileButton_Click"
                                        Loaded="OnAssociateFileButtonShown"
                                        Tag=".gif"
                                        ToolTip="{local:Loc AssociateTypeTooltip,
                                                            IsAsync=True}"
                                        >
                                        <iconPacks:PackIconUnicons
                                            IsTabStop="False"
                                            Kind="FileExclamationLine"
                                            />
                                    </Button>
                                </StackPanel>

                                <StackPanel
                                    Margin="25,0,0,0"
                                    Orientation="Horizontal"
                                    >
                                    <CheckBox
                                        Width="60"
                                        Height="25"
                                        HorizontalAlignment="Left"
                                        Content=".bmp"
                                        IsChecked="{Binding Settings.JSettings.FilterBmp, Mode=TwoWay}"
                                        />
                                    <Button
                                        Width="20"
                                        Height="20"
                                        MinHeight="0"
                                        Padding="0"
                                        Click="OnAssociateFileButton_Click"
                                        Loaded="OnAssociateFileButtonShown"
                                        Tag=".bmp"
                                        ToolTip="{local:Loc AssociateTypeTooltip,
                                                            IsAsync=True}"
                                        >
                                        <iconPacks:PackIconUnicons
                                            IsTabStop="False"
                                            Kind="FileExclamationLine"
                                            />
                                    </Button>
                                </StackPanel>

                                <StackPanel
                                    Margin="25,0,0,0"
                                    Orientation="Horizontal"
                                    >
                                    <CheckBox
                                        Width="60"
                                        Height="25"
                                        HorizontalAlignment="Left"
                                        Content=".tiff"
                                        IsChecked="{Binding Settings.JSettings.FilterTiff, Mode=TwoWay}"
                                        />
                                    <Button
                                        Width="20"
                                        Height="20"
                                        MinHeight="0"
                                        Padding="0"
                                        Click="OnAssociateFileButton_Click"
                                        Loaded="OnAssociateFileButtonShown"
                                        Tag=".tiff"
                                        ToolTip="{local:Loc AssociateTypeTooltip,
                                                            IsAsync=True}"
                                        >
                                        <iconPacks:PackIconUnicons
                                            IsTabStop="False"
                                            Kind="FileExclamationLine"
                                            />
                                    </Button>
                                </StackPanel>

                                <StackPanel
                                    Margin="25,0,0,0"
                                    Orientation="Horizontal"
                                    >
                                    <CheckBox
                                        Width="60"
                                        Height="25"
                                        HorizontalAlignment="Left"
                                        Content=".ico"
                                        IsChecked="{Binding Settings.JSettings.FilterIco, Mode=TwoWay}"
                                        />
                                    <Button
                                        Width="20"
                                        Height="20"
                                        MinHeight="0"
                                        Padding="0"
                                        Click="OnAssociateFileButton_Click"
                                        Loaded="OnAssociateFileButtonShown"
                                        Tag=".ico"
                                        ToolTip="{local:Loc AssociateTypeTooltip,
                                                            IsAsync=True}"
                                        >
                                        <iconPacks:PackIconUnicons
                                            IsTabStop="False"
                                            Kind="FileExclamationLine"
                                            />
                                    </Button>
                                </StackPanel>

                                <StackPanel
                                    Margin="25,0,0,0"
                                    Orientation="Horizontal"
                                    >
                                    <CheckBox
                                        Width="60"
                                        Height="25"
                                        HorizontalAlignment="Left"
                                        Content=".svg"
                                        IsChecked="{Binding Settings.JSettings.FilterSvg, Mode=TwoWay}"
                                        />
                                    <Button
                                        Width="20"
                                        Height="20"
                                        MinHeight="0"
                                        Padding="0"
                                        Click="OnAssociateFileButton_Click"
                                        Loaded="OnAssociateFileButtonShown"
                                        Tag=".svg"
                                        ToolTip="{local:Loc AssociateTypeTooltip,
                                                            IsAsync=True}"
                                        >
                                        <iconPacks:PackIconUnicons
                                            IsTabStop="False"
                                            Kind="FileExclamationLine"
                                            />
                                    </Button>
                                </StackPanel>

                                <StackPanel
                                    Margin="25,0,0,0"
                                    Orientation="Horizontal"
                                    >
                                    <CheckBox
                                        Width="60"
                                        Height="25"
                                        HorizontalAlignment="Left"
                                        Content=".webp"
                                        IsChecked="{Binding Settings.JSettings.FilterWebp, Mode=TwoWay}"
                                        />
                                    <Button
                                        Width="20"
                                        Height="20"
                                        MinHeight="0"
                                        Padding="0"
                                        Click="OnAssociateFileButton_Click"
                                        Loaded="OnAssociateFileButtonShown"
                                        Tag=".webp"
                                        ToolTip="{local:Loc AssociateTypeTooltip,
                                                            IsAsync=True}"
                                        >
                                        <iconPacks:PackIconUnicons
                                            IsTabStop="False"
                                            Kind="FileExclamationLine"
                                            />
                                    </Button>
                                </StackPanel>

                                <StackPanel
                                    Margin="25,0,0,0"
                                    Orientation="Horizontal"
                                    >
                                    <CheckBox
                                        Width="60"
                                        Height="25"
                                        HorizontalAlignment="Left"
                                        Content=".webm"
                                        IsChecked="{Binding Settings.JSettings.FilterWebm, Mode=TwoWay}"
                                        />
                                    <Button
                                        Width="20"
                                        Height="20"
                                        MinHeight="0"
                                        Padding="0"
                                        Click="OnAssociateFileButton_Click"
                                        Loaded="OnAssociateFileButtonShown"
                                        Tag=".webm"
                                        ToolTip="{local:Loc AssociateTypeTooltip,
                                                            IsAsync=True}"
                                        >
                                        <iconPacks:PackIconUnicons
                                            IsTabStop="False"
                                            Kind="FileExclamationLine"
                                            />
                                    </Button>
                                </StackPanel>
                            </StackPanel>
                        </GroupBox>

                        <!--  Shortcut Buttons  -->
                        <GroupBox
                            Margin="20,10,0,0"
                            Padding="10"
                            HorizontalAlignment="Left"
                            >
                            <GroupBox.Header>
                                <StackPanel Orientation="Horizontal">
                                    <iconPacks:PackIconUnicons
                                        Margin="0,0,5,0"
                                        VerticalAlignment="Center"
                                        IsTabStop="False"
                                        Kind="KeyboardLine"
                                        />
                                    <TextBlock
                                        FontSize="16"
                                        Text="{local:Loc Shortcuts,
                                                         IsAsync=True}"
                                        />
                                </StackPanel>
                            </GroupBox.Header>

                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <TextBlock
                                    Grid.Row="2"
                                    Grid.Column="0"
                                    Text="{local:Loc PreviousImageShortcut,
                                                     IsAsync=True}"
                                    />
                                <Button
                                    Grid.Row="2"
                                    Grid.Column="1"
                                    MinWidth="80"
                                    Margin="5,0,0,5"
                                    HorizontalAlignment="Left"
                                    Click="OnShortcutClick"
                                    Content="{Binding Settings.JSettings.GoBackwardKey, Converter={StaticResource KeyToStringConverter}}"
                                    Tag="{Binding Settings.JSettings.GoBackwardKey, Mode=TwoWay}"
                                    />
                                <Button
                                    Grid.Row="2"
                                    Grid.Column="2"
                                    MinWidth="27"
                                    MinHeight="27"
                                    Margin="5,0,0,5"
                                    HorizontalAlignment="Left"
                                    Background="#D14B4B"
                                    Click="OnRemoveShortcutClick"
                                    Content="X"
                                    Tag="{Binding Settings.JSettings.GoBackwardKey, Mode=TwoWay}"
                                    ToolTip="{local:Loc RemoveShortcut,
                                                        IsAsync=True}"
                                    />

                                <TextBlock
                                    Grid.Row="3"
                                    Grid.Column="0"
                                    Text="{local:Loc NextImageShortcut,
                                                     IsAsync=True}"
                                    />
                                <Button
                                    Grid.Row="3"
                                    Grid.Column="1"
                                    MinWidth="80"
                                    Margin="5,0,0,5"
                                    HorizontalAlignment="Left"
                                    Click="OnShortcutClick"
                                    Content="{Binding Settings.JSettings.GoForwardKey, Converter={StaticResource KeyToStringConverter}}"
                                    Tag="{Binding Settings.JSettings.GoForwardKey, Mode=TwoWay}"
                                    />
                                <Button
                                    Grid.Row="3"
                                    Grid.Column="2"
                                    MinWidth="27"
                                    MinHeight="27"
                                    Margin="5,0,0,5"
                                    HorizontalAlignment="Left"
                                    Background="#D14B4B"
                                    Click="OnRemoveShortcutClick"
                                    Content="X"
                                    Tag="{Binding Settings.JSettings.GoForwardKey, Mode=TwoWay}"
                                    ToolTip="{local:Loc RemoveShortcut,
                                                        IsAsync=True}"
                                    />

                                <TextBlock
                                    Grid.Row="4"
                                    Grid.Column="0"
                                    Text="{local:Loc PauseAnimationShortcut,
                                                     IsAsync=True}"
                                    />
                                <Button
                                    Grid.Row="4"
                                    Grid.Column="1"
                                    MinWidth="80"
                                    Margin="5,0,0,5"
                                    HorizontalAlignment="Left"
                                    Click="OnShortcutClick"
                                    Content="{Binding Settings.JSettings.PauseKey, Converter={StaticResource KeyToStringConverter}}"
                                    Tag="{Binding Settings.JSettings.PauseKey, Mode=TwoWay}"
                                    />
                                <Button
                                    Grid.Row="4"
                                    Grid.Column="2"
                                    MinWidth="27"
                                    MinHeight="27"
                                    Margin="5,0,0,5"
                                    HorizontalAlignment="Left"
                                    Background="#D14B4B"
                                    Click="OnRemoveShortcutClick"
                                    Content="X"
                                    Tag="{Binding Settings.JSettings.PauseKey, Mode=TwoWay}"
                                    ToolTip="{local:Loc RemoveShortcut,
                                                        IsAsync=True}"
                                    />

                                <TextBlock
                                    Grid.Row="5"
                                    Grid.Column="0"
                                    Text="{local:Loc DeleteImageShortcut,
                                                     IsAsync=True}"
                                    />
                                <Button
                                    Grid.Row="5"
                                    Grid.Column="1"
                                    MinWidth="80"
                                    Margin="5,0,0,5"
                                    HorizontalAlignment="Left"
                                    Click="OnShortcutClick"
                                    Content="{Binding Settings.JSettings.DeleteKey, Converter={StaticResource KeyToStringConverter}}"
                                    Tag="{Binding Settings.JSettings.DeleteKey, Mode=TwoWay}"
                                    />
                                <Button
                                    Grid.Row="5"
                                    Grid.Column="2"
                                    MinWidth="27"
                                    MinHeight="27"
                                    Margin="5,0,0,5"
                                    HorizontalAlignment="Left"
                                    Background="#D14B4B"
                                    Click="OnRemoveShortcutClick"
                                    Content="X"
                                    Tag="{Binding Settings.JSettings.DeleteKey, Mode=TwoWay}"
                                    ToolTip="{local:Loc RemoveShortcut,
                                                        IsAsync=True}"
                                    />

                                <TextBlock
                                    Grid.Row="6"
                                    Grid.Column="0"
                                    Text="{local:Loc StretchImageShortcut,
                                                     IsAsync=True}"
                                    />
                                <Button
                                    Grid.Row="6"
                                    Grid.Column="1"
                                    MinWidth="80"
                                    Margin="5,0,0,5"
                                    HorizontalAlignment="Left"
                                    Click="OnShortcutClick"
                                    Content="{Binding Settings.JSettings.StretchImageKey, Converter={StaticResource KeyToStringConverter}}"
                                    Tag="{Binding Settings.JSettings.StretchImageKey, Mode=TwoWay}"
                                    />
                                <Button
                                    Grid.Row="6"
                                    Grid.Column="2"
                                    MinWidth="27"
                                    MinHeight="27"
                                    Margin="5,0,0,5"
                                    HorizontalAlignment="Left"
                                    Background="#D14B4B"
                                    Click="OnRemoveShortcutClick"
                                    Content="X"
                                    Tag="{Binding Settings.JSettings.StretchImageKey, Mode=TwoWay}"
                                    ToolTip="{local:Loc RemoveShortcut,
                                                        IsAsync=True}"
                                    />

                                <TextBlock
                                    Grid.Row="7"
                                    Grid.Column="0"
                                    Text="{local:Loc DownsizeImageShortcut,
                                                     IsAsync=True}"
                                    />
                                <Button
                                    Grid.Row="7"
                                    Grid.Column="1"
                                    MinWidth="80"
                                    Margin="5,0,0,5"
                                    HorizontalAlignment="Left"
                                    Click="OnShortcutClick"
                                    Content="{Binding Settings.JSettings.DownsizeImageKey, Converter={StaticResource KeyToStringConverter}}"
                                    Tag="{Binding Settings.JSettings.DownsizeImageKey, Mode=TwoWay}"
                                    />
                                <Button
                                    Grid.Row="7"
                                    Grid.Column="2"
                                    MinWidth="27"
                                    MinHeight="27"
                                    Margin="5,0,0,5"
                                    HorizontalAlignment="Left"
                                    Background="#D14B4B"
                                    Click="OnRemoveShortcutClick"
                                    Content="X"
                                    Tag="{Binding Settings.JSettings.DownsizeImageKey, Mode=TwoWay}"
                                    ToolTip="{local:Loc RemoveShortcut,
                                                        IsAsync=True}"
                                    />

                                <TextBlock
                                    Grid.Row="8"
                                    Grid.Column="0"
                                    Text="{local:Loc ExploreImageLocationShortcut,
                                                     IsAsync=True}"
                                    />
                                <Button
                                    Grid.Row="8"
                                    Grid.Column="1"
                                    MinWidth="80"
                                    Margin="5,0,0,5"
                                    HorizontalAlignment="Left"
                                    Click="OnShortcutClick"
                                    Content="{Binding Settings.JSettings.ExploreFileKey, Converter={StaticResource KeyToStringConverter}}"
                                    Tag="{Binding Settings.JSettings.ExploreFileKey, Mode=TwoWay}"
                                    />
                                <Button
                                    Grid.Row="8"
                                    Grid.Column="2"
                                    MinWidth="27"
                                    MinHeight="27"
                                    Margin="5,0,0,5"
                                    HorizontalAlignment="Left"
                                    Background="#D14B4B"
                                    Click="OnRemoveShortcutClick"
                                    Content="X"
                                    Tag="{Binding Settings.JSettings.ExploreFileKey, Mode=TwoWay}"
                                    ToolTip="{local:Loc RemoveShortcut,
                                                        IsAsync=True}"
                                    />

                                <TextBlock
                                    Grid.Row="9"
                                    Grid.Column="0"
                                    Text="{local:Loc CopyImageToClipboard,
                                                     IsAsync=True}"
                                    />
                                <Button
                                    Grid.Row="9"
                                    Grid.Column="1"
                                    MinWidth="80"
                                    Margin="5,0,0,5"
                                    HorizontalAlignment="Left"
                                    Click="OnShortcutClick"
                                    Content="{Binding Settings.JSettings.CopyImageToClipboardKey, Converter={StaticResource KeyToStringConverter}}"
                                    Tag="{Binding Settings.JSettings.CopyImageToClipboardKey, Mode=TwoWay}"
                                    />
                                <Button
                                    Grid.Row="9"
                                    Grid.Column="2"
                                    MinWidth="27"
                                    MinHeight="27"
                                    Margin="5,0,0,5"
                                    HorizontalAlignment="Left"
                                    Background="#D14B4B"
                                    Click="OnRemoveShortcutClick"
                                    Content="X"
                                    Tag="{Binding Settings.JSettings.CopyImageToClipboardKey, Mode=TwoWay}"
                                    ToolTip="{local:Loc RemoveShortcut,
                                                        IsAsync=True}"
                                    />

                                <TextBlock
                                    Grid.Row="10"
                                    Grid.Column="0"
                                    Text="{local:Loc CutFileToClipboard,
                                                     IsAsync=True}"
                                    />
                                <Button
                                    Grid.Row="10"
                                    Grid.Column="1"
                                    MinWidth="80"
                                    Margin="5,0,0,5"
                                    HorizontalAlignment="Left"
                                    Click="OnShortcutClick"
                                    Content="{Binding Settings.JSettings.CutFileToClipboardKey, Converter={StaticResource KeyToStringConverter}}"
                                    Tag="{Binding Settings.JSettings.CutFileToClipboardKey, Mode=TwoWay}"
                                    />
                                <Button
                                    Grid.Row="10"
                                    Grid.Column="2"
                                    MinWidth="27"
                                    MinHeight="27"
                                    Margin="5,0,0,5"
                                    HorizontalAlignment="Left"
                                    Background="#D14B4B"
                                    Click="OnRemoveShortcutClick"
                                    Content="X"
                                    Tag="{Binding Settings.JSettings.CutFileToClipboardKey, Mode=TwoWay}"
                                    ToolTip="{local:Loc RemoveShortcut,
                                                        IsAsync=True}"
                                    />

                                <TextBlock
                                    Grid.Row="11"
                                    Grid.Column="0"
                                    Text="{local:Loc ShowThumbnailList,
                                                     IsAsync=True}"
                                    />
                                <Button
                                    Grid.Row="11"
                                    Grid.Column="1"
                                    MinWidth="80"
                                    Margin="5,0,0,5"
                                    HorizontalAlignment="Left"
                                    Click="OnShortcutClick"
                                    Content="{Binding Settings.JSettings.ThumbnailListKey, Converter={StaticResource KeyToStringConverter}}"
                                    Tag="{Binding Settings.JSettings.ThumbnailListKey, Mode=TwoWay}"
                                    />
                                <Button
                                    Grid.Row="11"
                                    Grid.Column="2"
                                    MinWidth="27"
                                    MinHeight="27"
                                    Margin="5,0,0,5"
                                    HorizontalAlignment="Left"
                                    Background="#D14B4B"
                                    Click="OnRemoveShortcutClick"
                                    Content="X"
                                    Tag="{Binding Settings.JSettings.ThumbnailListKey, Mode=TwoWay}"
                                    ToolTip="{local:Loc RemoveShortcut,
                                                        IsAsync=True}"
                                    />
                            </Grid>
                        </GroupBox>
                    </StackPanel>
                </ScrollViewer>
            </Controls:MetroTabItem>

            <!--  About Tab  -->
            <Controls:MetroTabItem
                Controls:HeaderedControlHelper.HeaderFontSize="16"
                Header="{local:Loc About,
                                   IsAsync=True}"
                >
                <ScrollViewer
                    Margin="5"
                    Focusable="False"
                    IsTabStop="False"
                    VerticalScrollBarVisibility="Auto"
                    >
                    <Grid Margin="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <RichTextBox
                            Padding="0,0,0,0"
                            AcceptsReturn="False"
                            AllowDrop="False"
                            AutoWordSelection="False"
                            BorderThickness="0"
                            FontSize="16"
                            HorizontalScrollBarVisibility="Disabled"
                            IsDocumentEnabled="True"
                            IsReadOnly="True"
                            IsTabStop="False"
                            IsUndoEnabled="False"
                            TextOptions.TextHintingMode="Fixed"
                            >
                            <FlowDocument>
                                <Paragraph>
                                    <Image
                                        Width="60"
                                        Height="60"
                                        Margin="0,0,30,0"
                                        Source="Resources/FIVIcon.ico"
                                        />
                                    <Run
                                        FontSize="60"
                                        Text="FIV"
                                        />
                                    <Run Text="{Binding AppUpdater.CurrentVersion, Mode=OneWay, IsAsync=True}" />
                                </Paragraph>

                                <Paragraph>
                                    Created by Antoniy &quot;Nevaran&quot; Sapundzhiev
                                </Paragraph>

                                <Paragraph>
                                    <Run Text="Please consider" />
                                    <Bold>
                                        <Hyperlink
                                            Foreground="{DynamicResource MahApps.Brushes.Accent}"
                                            NavigateUri="{Binding DonationLink, Mode=OneTime}"
                                            RequestNavigate="Hyperlink_RequestNavigate"
                                            >
                                            Donating.
                                        </Hyperlink>
                                    </Bold>
                                    It helps a ton!</Paragraph>

                                <Paragraph>
                                    Used libraries:
                                </Paragraph>

                                <List>
                                    <ListItem>
                                        <Paragraph>
                                            <Bold>
                                                <Hyperlink
                                                    NavigateUri="https://github.com/MahApps/MahApps.Metro"
                                                    RequestNavigate="Hyperlink_RequestNavigate"
                                                    >
                                                    MahApps.Metro
                                                </Hyperlink>
                                            </Bold>
                                            by Jan Karger, Dennis Daume, Brendan Forster, Paul Jenkins, Jake Ginnivan, Alex Mitchell</Paragraph>
                                    </ListItem>
                                    <ListItem>
                                        <Paragraph>
                                            <Bold>
                                                <Hyperlink
                                                    NavigateUri="https://github.com/mjuen/Notifications.Wpf.Core"
                                                    RequestNavigate="Hyperlink_RequestNavigate"
                                                    >
                                                    Notifications.Wpf.Core
                                                </Hyperlink>
                                            </Bold>
                                            by Adrian Gaś, Simon Mauracher, Marcel Juen</Paragraph>
                                    </ListItem>
                                    <ListItem>
                                        <Paragraph>
                                            <Bold>
                                                <Hyperlink
                                                    NavigateUri="https://github.com/dlemstra/Magick.NET"
                                                    RequestNavigate="Hyperlink_RequestNavigate"
                                                    >
                                                    Magick.NET
                                                </Hyperlink>
                                            </Bold>
                                            by Dirk Lemstra</Paragraph>
                                    </ListItem>
                                    <ListItem>
                                        <Paragraph>
                                            <Bold>
                                                <Hyperlink
                                                    NavigateUri="https://github.com/unosquare/ffmediaelement"
                                                    RequestNavigate="Hyperlink_RequestNavigate"
                                                    >
                                                    FFME.Windows
                                                </Hyperlink>
                                            </Bold>
                                            by Mario Di Vece</Paragraph>
                                    </ListItem>
                                    <ListItem>
                                        <Paragraph>
                                            <Bold>
                                                <Hyperlink
                                                    NavigateUri="https://github.com/contre/Windows-API-Code-Pack-1.1"
                                                    RequestNavigate="Hyperlink_RequestNavigate"
                                                    >
                                                    Microsoft-WindowsAPICodePack
                                                </Hyperlink>
                                            </Bold>
                                            by rpastric, contre, dahall</Paragraph>
                                    </ListItem>
                                </List>

                                <Paragraph>
                                    Translators:
                                </Paragraph>

                                <List>
                                    <ListItem>
                                        <Paragraph>
                                            English -<Bold>Antoniy Sapundzhiev</Bold>
                                        </Paragraph>
                                    </ListItem>
                                    <ListItem>
                                        <Paragraph>
                                            Bulgarian -<Bold>Antoniy Sapundzhiev</Bold>
                                        </Paragraph>
                                    </ListItem>
                                    <ListItem>
                                        <Paragraph>
                                            Dutch -<Bold>Martijn, Alex Verbaas</Bold>
                                        </Paragraph>
                                    </ListItem>
                                    <ListItem>
                                        <Paragraph>
                                            Swedish -<Bold>Daniel Pedersen</Bold>
                                        </Paragraph>
                                    </ListItem>
                                    <ListItem>
                                        <Paragraph>
                                            Portuguese -<Bold>Adriano Bini</Bold>
                                        </Paragraph>
                                    </ListItem>
                                    <ListItem>
                                        <Paragraph>
                                            Danish -<Bold>Dan</Bold>
                                        </Paragraph>
                                    </ListItem>
                                </List>

                                <Section />
                                <Paragraph>
                                    See a bug?
                                </Paragraph>
                                <Paragraph>
                                    <Bold>
                                        <Hyperlink
                                            Foreground="{DynamicResource MahApps.Brushes.Accent}"
                                            NavigateUri="https://github.com/nevaran/FIV/issues/new"
                                            RequestNavigate="Hyperlink_RequestNavigate"
                                            >
                                            Report it here!
                                        </Hyperlink>
                                    </Bold>
                                </Paragraph>
                            </FlowDocument>
                        </RichTextBox>
                    </Grid>
                </ScrollViewer>
            </Controls:MetroTabItem>

            <!--  Whats New Tab / Update Notes Tab / Release Notes Tab  -->
            <Controls:MetroTabItem
                Controls:HeaderedControlHelper.HeaderFontSize="16"
                Header="{local:Loc WhatsNew,
                                   IsAsync=True}"
                >
                <ScrollViewer
                    Margin="5,5,5,5"
                    Focusable="False"
                    >
                    <StackPanel Orientation="Vertical">

                        <TextBlock
                            Padding="10,0"
                            Text="{Binding AppUpdater.UpdaterMessage, Mode=OneWay}"
                            TextAlignment="Center"
                            />

                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <!--  Force Download Setup Button  -->
                            <Button
                                Grid.Row="0"
                                Grid.Column="1"
                                MinWidth="100"
                                Margin="0,0,25,0"
                                Click="OnForceDownloadSetupClick"
                                Focusable="False"
                                IsEnabled="{Binding AppUpdater.NotUpdating, Mode=OneWay}"
                                IsTabStop="False"
                                ToolTip="{local:Loc DownloadLatestTooltip,
                                                    IsAsync=True}"
                                >
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock
                                        VerticalAlignment="Center"
                                        FontSize="14"
                                        Text="{local:Loc DownloadLatest,
                                                         IsAsync=True}"
                                        />
                                    <iconPacks:PackIconBoxIcons
                                        Width="20"
                                        Height="20"
                                        Margin="5,0,0,0"
                                        IsTabStop="False"
                                        Kind="RegularDownload"
                                        />
                                </StackPanel>

                            </Button>

                            <TextBlock
                                Grid.Row="1"
                                Grid.Column="0"
                                >
                                <TextBlock.Inlines>
                                    <Run
                                        FontSize="20"
                                        Text="{local:Loc WhatsNew,
                                                         IsAsync=True}"
                                        />
                                    <Run Text="{Binding AppUpdater.DownloadVersionString, Mode=OneWay, IsAsync=True}" />
                                </TextBlock.Inlines>
                            </TextBlock>
                            <TextBlock
                                Grid.Row="2"
                                Grid.Column="0"
                                Padding="20,0,0,0"
                                Text="{Binding AppUpdater.DownloadedChangelog, Mode=OneWay, IsAsync=True}"
                                TextWrapping="Wrap"
                                />
                        </Grid>
                    </StackPanel>
                </ScrollViewer>
            </Controls:MetroTabItem>
        </Controls:MetroTabControl>
    </Grid>
</Controls:MetroWindow>